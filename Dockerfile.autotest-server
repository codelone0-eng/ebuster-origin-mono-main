FROM node:20-alpine

WORKDIR /app

RUN apk update && apk add --no-cache bash wget

COPY package*.json ./
RUN npm install express cors ws

COPY tests/server.js ./
COPY tests/public ./tests/public

RUN mkdir -p tests/recorded

EXPOSE 3002

CMD ["node", "tests/server.js"]

