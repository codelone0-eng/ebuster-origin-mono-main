# Деплой обновлений 2FA

## Что изменилось:
1. Добавлена библиотека `otpauth` в `package.json`
2. Исправлен импорт в `user.controller.ts`
3. Добавлено логирование для отладки

## Команды для деплоя:

```bash
# На сервере
cd /srv/ebuster
git pull origin main
docker compose down
docker compose build --no-cache
docker compose up -d

# Проверить логи
docker logs ebuster-api --tail 50 -f
```

## Что должно работать:
- ✅ Генерация секретного ключа
- ✅ Проверка TOTP кода (только правильные коды)
- ✅ Сохранение резервных кодов в БД
- ✅ Отключение 2FA

## Проверка:
1. Откройте модал настройки 2FA
2. Отсканируйте QR-код в Google Authenticator
3. Введите 6-значный код из приложения
4. Код должен быть проверен через TOTP
5. Если код неверный - будет ошибка
6. Если код верный - получите резервные коды
