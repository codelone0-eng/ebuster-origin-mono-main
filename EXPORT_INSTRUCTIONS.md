# üìä –ü–û–õ–ù–ê–Ø –í–´–ì–†–£–ó–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

## üéØ –¶–µ–ª—å:
–í—ã–≥—Ä—É–∑–∏—Ç—å –í–°–Æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î, —á—Ç–æ–±—ã:
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ö–µ–º—É –ë–î
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏
3. –ü—Ä–∏–≤–µ—Å—Ç–∏ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
4. –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

---

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä—ã—Ç—å **Supabase SQL Editor**
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª **`migrations/FULL_DB_EXPORT.sql`**
3. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –í–ï–°–¨ —Ñ–∞–π–ª**
4. **–í—Å—Ç–∞–≤–∏—Ç—å –≤ SQL Editor**
5. **–ù–∞–∂–∞—Ç—å Run**

### –®–∞–≥ 2: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

SQL Editor –≤–µ—Ä–Ω–µ—Ç **–º–Ω–æ–≥–æ –≤–∫–ª–∞–¥–æ–∫** —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã (20+ —Ç–∞–±–ª–∏—Ü)
- –í—Å–µ foreign keys
- –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã
- –î–∞–Ω–Ω—ã–µ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞

### –®–∞–≥ 3: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å

–í Supabase SQL Editor:
1. –ù–∞–∂–∞—Ç—å **"Export"** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
2. –í—ã–±—Ä–∞—Ç—å **"Export as CSV"** –∏–ª–∏ **"Copy to clipboard"**
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª –∏–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 4: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–Ω–µ

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º:
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ CSV —Ñ–∞–π–ª
- –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫

---

## üìä –ß—Ç–æ –±—É–¥–µ—Ç –≤ –≤—ã–≥—Ä—É–∑–∫–µ:

### –ß–ê–°–¢–¨ 1: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
```
auth_users
referral_codes
referral_history
referral_rewards
referral_stats
referral_uses
roles
script_categories
script_downloads
script_ratings
script_versions
scripts
subscriptions
support_tickets
ticket_attachments
ticket_comments
ticket_messages
user_autoupdate_settings
user_bans
user_script_updates
user_scripts
```

### –ß–ê–°–¢–¨ 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã
–î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏
- –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
- Nullable –∏–ª–∏ NOT NULL
- Default –∑–Ω–∞—á–µ–Ω–∏–µ

### –ß–ê–°–¢–¨ 3: Foreign Keys
–í—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏:
```
auth_users.role_id ‚Üí roles.id
subscriptions.user_id ‚Üí auth_users.id
subscriptions.role_id ‚Üí roles.id
scripts.author_id ‚Üí auth_users.id
...
```

### –ß–ê–°–¢–¨ 4: –ò–Ω–¥–µ–∫—Å—ã
–í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
idx_auth_users_role_id
idx_subscriptions_user_id
idx_subscriptions_role_id
...
```

### –ß–ê–°–¢–¨ 5: –î–∞–Ω–Ω—ã–µ
–ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑:
- roles (–≤—Å–µ —Ä–æ–ª–∏)
- auth_users (–ø–µ—Ä–≤—ã–µ 10)
- subscriptions (–≤—Å–µ)
- scripts (–ø–µ—Ä–≤—ã–µ 5)

### –ß–ê–°–¢–¨ 6: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ

### –ß–ê–°–¢–¨ 7: –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ role_id
- –ë–∏—Ç—ã–µ foreign keys
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ß–ê–°–¢–¨ 8: RLS –ø—Ä–æ–≤–µ—Ä–∫–∞
–ö–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç Row Level Security

---

## üéØ –ß—Ç–æ —è —Å–¥–µ–ª–∞—é —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

1. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**
   - –ù–∞–π–¥—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–∞–π–¥—É –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
   - –ù–∞–π–¥—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏

2. **–°–æ–∑–¥–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ö–µ–º—É**
   - –ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
   - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

3. **–°–æ–∑–¥–∞–º –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–æ–ª–µ–π
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ constraints

4. **–°–æ–∑–¥–∞–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**
   - ER –¥–∏–∞–≥—Ä–∞–º–º–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã
   - –û–ø–∏—Å–∞–Ω–∏–µ —Å–≤—è–∑–µ–π
   - Best practices

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –í—ã–ø–æ–ª–Ω–∏—Ç–µ **–í–ï–°–¨** —Å–∫—Ä–∏–ø—Ç —Ü–µ–ª–∏–∫–æ–º
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ —á–∞—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **–í–°–ï** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —á–∞—Å—Ç—å –≤—ã–¥–∞–ª–∞ –æ—à–∏–±–∫—É - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å

---

## üöÄ –ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞:

–Ø —Å–æ–∑–¥–∞–º:
1. ‚úÖ **–ü–æ–ª–Ω—É—é —Å—Ö–µ–º—É –ë–î** (ER –¥–∏–∞–≥—Ä–∞–º–º–∞)
2. ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º
3. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î
4. ‚úÖ **Best practices** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
5. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ—á–∏—Å—Ç–∫–∏** –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ SQL Editor –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

–ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pg_dump`:
```bash
pg_dump -h your-host -U postgres -d your-db --schema-only > schema.sql
```

–ù–æ –ª—É—á—à–µ —á–µ—Ä–µ–∑ SQL Editor - —Ç–∞–º —É–¥–æ–±–Ω–µ–µ.

---

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ FULL_DB_EXPORT.sql –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!** üéØ
