# üé¨ Playwright Test Recorder

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Playwright Codegen.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ autotest-stream —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run test:serve
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   ```
   http://localhost:3002/recorder
   ```

3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò–º—è —Ñ–∞–π–ª–∞ —Ç–µ—Å—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –Ø–∑—ã–∫ (TypeScript/JavaScript/Python)
   - –¢–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (Test/Page Object/Pytest)
   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –†–∞–∑–º–µ—Ä viewport

4. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å" - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä

5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–∞–π—Ç–µ

6. –ó–∞–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Stop –≤ Playwright Inspector

7. –°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ —Ç–µ—Å—Ç–∞

### –ß–µ—Ä–µ–∑ CLI

```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
npm run test:record -- https://lk.ebuster.ru

# –° –æ–ø—Ü–∏—è–º–∏
npm run test:record -- https://admin.ebuster.ru \
  --output admin-test.spec.ts \
  --lang typescript \
  --target test \
  --device "iPhone 13" \
  --viewport 1920x1080
```

## –û–ø—Ü–∏–∏

- `--output <file>` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
- `--target <type>` - –¢–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: `test`, `page-object`, `pytest`
- `--lang <lang>` - –Ø–∑—ã–∫: `javascript`, `typescript`, `python`
- `--device <device>` - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: `iPhone 13`, `Pixel 5`, `iPad Pro` –∏ —Ç.–¥.
- `--viewport <w>x<h>` - –†–∞–∑–º–µ—Ä viewport (–Ω–∞–ø—Ä–∏–º–µ—Ä: `1920x1080`)
- `--save-har <file>` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å HAR —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–µ—Ç–∏

## –ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏

–ó–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `tests/recorded/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø–∏—Å—å —Ç–µ—Å—Ç–∞ –¥–ª—è –õ–ö
```bash
npm run test:record -- https://lk.ebuster.ru --output lk-login.spec.ts
```

### –ó–∞–ø–∏—Å—å —Ç–µ—Å—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
```bash
npm run test:record -- https://admin.ebuster.ru \
  --device "iPhone 13" \
  --output admin-mobile.spec.ts
```

### –ó–∞–ø–∏—Å—å —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º HAR —Ñ–∞–π–ª–∞
```bash
npm run test:record -- https://ebuster.ru \
  --save-har network.har \
  --output landing-test.spec.ts
```

## API Endpoints

- `POST /api/recorder/start` - –ó–∞–ø—É—Å–∫ –∑–∞–ø–∏—Å–∏
- `GET /api/recorder/status/:recordingId` - –°—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–∏
- `GET /api/recorder/list` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏

–ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ —Ç–µ—Å—Ç –º–æ–∂–Ω–æ:
1. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ `tests/ui/` –¥–ª—è UI —Ç–µ—Å—Ç–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π spec —Ñ–∞–π–ª
3. –û–±–µ—Ä–Ω—É—Ç—å –≤ `test.describe()` –±–ª–æ–∫
4. –î–æ–±–∞–≤–∏—Ç—å assertions –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

