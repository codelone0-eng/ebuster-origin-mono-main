# üöÄ EBUSTER - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ü—Ä–æ–µ–∫—Ç–∞

> **–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è EBUSTER**  
> Production: https://ebuster.ru | API: https://api.ebuster.ru | Admin: https://admin.ebuster.ru | LK: https://lk.ebuster.ru

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–î–µ–ø–ª–æ–π –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#–¥–µ–ø–ª–æ–π-–∏-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
5. [–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](#—Å–∏—Å—Ç–µ–º–∞-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
6. [API Endpoints](#api-endpoints)
7. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
8. [Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
9. [–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
10. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏-–ø–æ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –ø–æ–¥–¥–æ–º–µ–Ω–∞—Ö:

```
ebuster.ru/
‚îú‚îÄ‚îÄ ebuster.ru          ‚Üí –õ–µ–Ω–¥–∏–Ω–≥ (React SPA)
‚îú‚îÄ‚îÄ lk.ebuster.ru       ‚Üí –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (React SPA)
‚îú‚îÄ‚îÄ admin.ebuster.ru    ‚Üí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (React SPA)
‚îî‚îÄ‚îÄ api.ebuster.ru      ‚Üí Backend API (Express + TypeScript)
```

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Cloudflare (SSL/CDN)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         VPS Server (Docker)                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Nginx (Reverse Proxy)               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ ebuster.ru ‚Üí Frontend Container  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ lk.ebuster.ru ‚Üí Frontend         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ admin.ebuster.ru ‚Üí Frontend      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ api.ebuster.ru ‚Üí API Container   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ   Frontend   ‚îÇ  ‚îÇ   API        ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ   Container  ‚îÇ  ‚îÇ   Container  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ   (Nginx)    ‚îÇ  ‚îÇ   (Node.js)  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ   Port: 80   ‚îÇ  ‚îÇ   Port: 3001 ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Supabase (PostgreSQL)               ‚îÇ
‚îÇ         - auth_users                        ‚îÇ
‚îÇ         - subscriptions                     ‚îÇ
‚îÇ         - scripts                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend:
- **Framework:** React 18.3 + TypeScript
- **Build Tool:** Vite 5.4
- **Routing:** React Router DOM 6.30
- **UI Library:** shadcn/ui (Radix UI)
- **Styling:** TailwindCSS 3.4
- **Animations:** GSAP, Lenis
- **Forms:** React Hook Form + Zod
- **State:** React Query (TanStack)
- **Icons:** Lucide React

### Backend:
- **Runtime:** Node.js 20.19
- **Framework:** Express 5.1
- **Language:** TypeScript
- **Auth:** JWT (jsonwebtoken 9.0)
- **Password:** bcryptjs 2.4
- **Email:** Nodemailer 7.0
- **Database Client:** @supabase/supabase-js 2.74
- **CORS:** cors 2.8

### DevOps:
- **Containerization:** Docker + Docker Compose
- **Web Server:** Nginx
- **SSL:** Let's Encrypt (—á–µ—Ä–µ–∑ Cloudflare)
- **CI/CD:** GitHub ‚Üí VPS (manual deploy)
- **Process Manager:** Docker restart policies

### Database:
- **Provider:** Supabase (PostgreSQL)
- **Tables:** auth_users, subscriptions, scripts, tickets, etc.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ebuster-origin-mono-main/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ landing/              # –õ–µ–Ω–¥–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Index.tsx         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApiDocs.tsx       # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Error404.tsx      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 404
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ lk/                   # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx     # –î–∞—à–±–æ—Ä–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TicketPage.tsx    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–∏–∫–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ admin/                # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ pages/                # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Register.tsx      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VerifyOtp.tsx     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–≤–æ–¥–∞ OTP –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/                  # Backend API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.controller.ts    # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.routes.ts        # –†–æ—É—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.controller.ts   # –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription.controller.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/              # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterModal.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomCursor.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ contexts/            # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomAuthContext.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageContext.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ services/            # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email.service.ts # Email –æ—Ç–ø—Ä–∞–≤–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ smtp.config.ts   # SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ utils.ts
‚îú‚îÄ‚îÄ public/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ dist/                    # Production build
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile.api           # API Dockerfile
‚îú‚îÄ‚îÄ Dockerfile.frontend      # Frontend Dockerfile
‚îú‚îÄ‚îÄ nginx.conf               # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ server.ts                # Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ vite.config.ts           # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tailwind.config.ts       # Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## üê≥ –î–µ–ø–ª–æ–π –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Docker Compose Setup:

**–§–∞–π–ª:** `docker-compose.yml`

```yaml
version: '3.8'

services:
  # API Backend
  api:
    build:
      context: .
      dockerfile: Dockerfile.api
    container_name: ebuster-api
    restart: unless-stopped
    ports:
      - "3001:3001"
    env_file:
      - .env
    environment:
      - NODE_ENV=production
      - PORT=3001
    networks:
      - ebuster-network

  # Frontend (Nginx + SPA)
  frontend:
    build:
      context: .
      dockerfile: Dockerfile.frontend
    container_name: ebuster-frontend
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    depends_on:
      - api
    networks:
      - ebuster-network
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/nginx/ssl:ro

networks:
  ebuster-network:
    driver: bridge
```

### Nginx Configuration:

**–§–∞–π–ª:** `nginx.conf`

```nginx
# –õ–µ–Ω–¥–∏–Ω–≥ - ebuster.ru (HTTPS)
server {
    listen 443 ssl http2;
    server_name ebuster.ru www.ebuster.ru;
    
    ssl_certificate /etc/nginx/ssl/fullchain.pem;
    ssl_certificate_key /etc/nginx/ssl/privkey.pem;
    
    root /usr/share/nginx/html/landing;
    index index.html;

    # SPA Fallback - –í–°–ï —Ä–æ—É—Ç—ã –∏–¥—É—Ç –Ω–∞ index.html
    location / {
        try_files $uri $uri/ /index.html;
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
}

# API - api.ebuster.ru (HTTPS)
server {
    listen 443 ssl http2;
    server_name api.ebuster.ru;
    
    ssl_certificate /etc/nginx/ssl/fullchain.pem;
    ssl_certificate_key /etc/nginx/ssl/privkey.pem;

    location / {
        proxy_pass http://api:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**–§–∞–π–ª:** `.env`

```bash
# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key

# JWT
JWT_SECRET=your-secret-key

# SMTP (–¥–ª—è email)
SMTP_HOST=smtp.mail.ru
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=noreply@ebuster.ru
SMTP_PASS=your-password

# Frontend URL
FRONTEND_URL=https://ebuster.ru
NODE_ENV=production
PORT=3001
```

---

## üîê –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### OTP (One-Time Password) –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:

#### –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   ‚Üì
2. Backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 6-–∑–Ω–∞—á–Ω—ã–π OTP –∫–æ–¥ (123456)
   ‚Üì
3. –ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î (auth_users.confirmation_token)
   + –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è (otp_expiry = now() + 10 –º–∏–Ω—É—Ç)
   ‚Üì
4. Email —Å OTP –∫–æ–¥–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   ‚Üì
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ /verify-otp?email=...
   ‚Üì
6. –í–≤–æ–¥–∏—Ç 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
   ‚Üì
7. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –∏ –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è
   ‚Üì
8. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ:
   - email_confirmed = true
   - status = 'active'
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
   ‚Üì
9. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ /dashboard
```

#### Backend Implementation:

**–§–∞–π–ª:** `src/api/auth.controller.ts`

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OTP –∫–æ–¥–∞
const generateOtpCode = (): string => {
  return Math.floor(100000 + Math.random() * 900000).toString();
};

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å OTP
export const registerUser = async (req: Request, res: Response) => {
  const { email, password, fullName } = req.body;
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OTP
  const otpCode = generateOtpCode();
  const otpExpiry = new Date(Date.now() + 10 * 60 * 1000); // 10 –º–∏–Ω—É—Ç
  
  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  await supabase.from('auth_users').insert({
    email,
    password_hash: await bcrypt.hash(password, 12),
    full_name: fullName,
    email_confirmed: false,
    confirmation_token: otpCode,
    otp_expiry: otpExpiry.toISOString(),
    status: 'inactive'
  });
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –Ω–∞ email
  await emailService.sendOtpEmail(email, otpCode, fullName);
  
  res.status(201).json({ success: true });
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞ OTP
export const verifyOtp = async (req: Request, res: Response) => {
  const { email, otp } = req.body;
  
  // –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const { data: user } = await supabase
    .from('auth_users')
    .select('*')
    .eq('email', email)
    .eq('confirmation_token', otp)
    .single();
  
  if (!user) {
    return res.status(400).json({ error: '–ù–µ–≤–µ—Ä–Ω—ã–π OTP –∫–æ–¥' });
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
  if (new Date(user.otp_expiry) < new Date()) {
    return res.status(400).json({ error: 'OTP –∫–æ–¥ –∏—Å—Ç–µ–∫' });
  }
  
  // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  await supabase.from('auth_users').update({
    email_confirmed: true,
    status: 'active',
    confirmation_token: null,
    otp_expiry: null
  }).eq('id', user.id);
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–∞
  const token = jwt.sign(
    { userId: user.id, email: user.email },
    JWT_SECRET,
    { expiresIn: '7d' }
  );
  
  res.json({
    success: true,
    token,
    user: { id: user.id, email: user.email, full_name: user.full_name }
  });
};
```

#### Frontend Implementation:

**–§–∞–π–ª:** `src/pages/VerifyOtp.tsx`

```typescript
export default function VerifyOtp() {
  const [otp, setOtp] = useState('');
  const [email, setEmail] = useState('');
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ 6 —Ü–∏—Ñ—Ä
  useEffect(() => {
    if (otp.length === 6) {
      handleVerify();
    }
  }, [otp]);
  
  const handleVerify = async () => {
    const API_URL = import.meta.env.VITE_API_URL || 'https://api.ebuster.ru';
    const response = await fetch(`${API_URL}/api/auth/verify-otp`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, otp }),
    });
    
    const data = await response.json();
    
    if (data.success) {
      // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
      localStorage.setItem('token', data.token);
      localStorage.setItem('user', JSON.stringify(data.user));
      
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥–¥–æ–º–µ–Ω –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
      window.location.href = 'https://lk.ebuster.ru/dashboard';
    }
  };
  
  return (
    <OtpInput
      length={6}
      value={otp}
      onChange={(value) => setOtp(value)}
      disabled={loading}
      autoFocus
    />
  );
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OtpInput` –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–≤–æ–¥–æ–º - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `lk.ebuster.ru/dashboard` –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ `/dashboard`

---

## üì° API Endpoints

### Authentication:

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/auth/login` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É |
| POST | `/api/auth/verify-otp` | –ü—Ä–æ–≤–µ—Ä–∫–∞ OTP –∫–æ–¥–∞ |
| GET | `/api/auth/verify` | –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞ |
| POST | `/api/auth/logout` | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã |
| POST | `/api/auth/reset-password` | –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è |

### Admin:

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/admin/users` | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| PATCH | `/api/admin/users/:id/status` | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| DELETE | `/api/admin/users/:id` | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/admin/users/:id/ban` | –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### Subscriptions:

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/subscriptions` | –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ |
| POST | `/api/subscriptions` | –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É |
| GET | `/api/subscriptions/:id` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: `auth_users`

```sql
CREATE TABLE auth_users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  email TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  full_name TEXT,
  email_confirmed BOOLEAN DEFAULT false,
  confirmation_token TEXT,
  otp_expiry TIMESTAMPTZ,
  status TEXT DEFAULT 'inactive',
  role TEXT DEFAULT 'user',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

### –í–∞–∂–Ω—ã–µ –ø–æ–ª—è:

- `confirmation_token` - –•—Ä–∞–Ω–∏—Ç 6-–∑–Ω–∞—á–Ω—ã–π OTP –∫–æ–¥
- `otp_expiry` - –í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è OTP (10 –º–∏–Ω—É—Ç)
- `email_confirmed` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –ª–∏ email
- `status` - –°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (inactive/active/banned)

---

## üé® Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –†–æ—É—Ç–∏–Ω–≥:

**–§–∞–π–ª:** `src/LandingApp.tsx` (–¥–ª—è ebuster.ru)

```typescript
<Routes>
  {/* –ì–ª–∞–≤–Ω–∞—è */}
  <Route path="/" element={<Index />} />
  
  {/* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è */}
  <Route path="/login" element={<Login />} />
  <Route path="/register" element={<Register />} />
  <Route path="/verify-otp" element={<VerifyOtp />} />
  <Route path="/signin" element={<Login />} />
  
  {/* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è */}
  <Route path="/api-docs" element={<ApiDocs />} />
  <Route path="/documentation" element={<Documentation />} />
  <Route path="/contacts" element={<Contacts />} />
  
  {/* –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –ø–æ–¥–¥–æ–º–µ–Ω—ã */}
  <Route path="/dashboard/*" element={<RedirectTo url="https://lk.ebuster.ru/dashboard" />} />
  <Route path="/admin/*" element={<RedirectTo url="https://admin.ebuster.ru" />} />
</Routes>
```

**–í–∞–∂–Ω–æ:** Login –∏ Register —Ç–µ–ø–µ—Ä—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ –Ω–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞!

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI:

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **shadcn/ui** - –∫–æ–ª–ª–µ–∫—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ Radix UI:

- `Button`, `Input`, `Card`, `Dialog`
- `InputOTP` - –¥–ª—è –≤–≤–æ–¥–∞ OTP –∫–æ–¥–∞
- `Toast` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `Table`, `Tabs`, `Select`

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: 404 –Ω–∞ `/verify-otp`

**–ü—Ä–∏—á–∏–Ω–∞:** –†–æ—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ `App.tsx`, –Ω–æ –Ω–∞ production –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LandingApp.tsx`

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç –≤ `LandingApp.tsx`:
```typescript
import VerifyOtp from "./pages/VerifyOtp";
<Route path="/verify-otp" element={<VerifyOtp />} />
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:
```bash
cd /srv/ebuster
git pull origin main
docker-compose build --no-cache frontend
docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: InputOTP –¥—É–±–ª–∏—Ä—É–µ—Ç —Ü–∏—Ñ—Ä—ã –≤ –ø–µ—Ä–≤—É—é —è—á–µ–π–∫—É

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `input-otp` —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ –¥–≤–æ–π–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OtpInput` –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```typescript
// src/components/OtpInput.tsx
<OtpInput
  length={6}
  value={otp}
  onChange={(value) => setOtp(value)}
  disabled={loading}
  autoFocus
/>
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–≤–æ–¥–æ–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ Backspace
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "useAuth must be used within an AuthProvider"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useAuth`, –Ω–æ –Ω–µ –æ–±–µ—Ä–Ω—É—Ç –≤ `AuthProvider`

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å `useAuth` –∏–∑ `VerifyOtp.tsx`, —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ localStorage

### –ü—Ä–æ–±–ª–µ–º–∞ 4: CORS –æ—à–∏–±–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** API –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –í `server.ts` –¥–æ–±–∞–≤–ª–µ–Ω CORS middleware:
```typescript
app.use(cors({
  origin: ['https://ebuster.ru', 'https://lk.ebuster.ru', 'https://admin.ebuster.ru'],
  credentials: true
}));
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "Cannot find package 'node-cron'"

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
docker-compose exec api npm install node-cron nodemailer
docker-compose restart api
```

---

## üÜï –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Login –∏ Register - —Ç–µ–ø–µ—Ä—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ò–∑–º–µ–Ω–µ–Ω–æ:** Login –∏ Register –±–æ–ª—å—à–µ –Ω–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞, –∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

**–§–∞–π–ª—ã:**
- `src/pages/Login.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- `src/pages/Register.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `src/components/Header.tsx` - –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–æ—É—Ç—ã:**
- `/login` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- `/register` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `/signin` - –ê–ª–∏–∞—Å –¥–ª—è `/login`
- `/get-started` - –ê–ª–∏–∞—Å –¥–ª—è `/register`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Login:**
- ‚úÖ RecentUsers - –±—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –∏–∑ –Ω–µ–¥–∞–≤–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ "–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è" - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ email
- ‚úÖ –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å (Eye/EyeOff –∏–∫–æ–Ω–∫–∏)
- ‚úÖ OAuth flow –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ email

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Register:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è (–∫–Ω–æ–ø–∫–∞ "–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å")
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
- ‚úÖ –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –æ–±–æ–∏—Ö –ø–æ–ª–µ–π
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤
- ‚úÖ –ê–≤—Ç–æ–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –õ—É—á—à–µ SEO (–æ—Ç–¥–µ–ª—å–Ω—ã–µ URL)
- ‚úÖ –£–¥–æ–±–Ω–µ–µ –¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–∞–º–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏: `/register?ref=CODE`
- ‚úÖ –í–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑ –º–æ–¥–∞–ª–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
cd /srv
git clone https://github.com/your-repo/ebuster-origin-mono-main.git ebuster
cd ebuster
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
- `SUPABASE_URL`
- `SUPABASE_SERVICE_KEY`
- `JWT_SECRET`
- `SMTP_*` –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

```bash
docker-compose build
docker-compose up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl https://api.ebuster.ru/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
curl -I https://ebuster.ru

# –õ–æ–≥–∏
docker-compose logs -f api
docker-compose logs -f frontend
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞:

```bash
cd /srv/ebuster
git pull origin main
docker-compose build --no-cache
docker-compose up -d
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è:

- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `.env` —Ñ–∞–π–ª
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ `/srv/ebuster/ssl/`
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–±—Ä–∞–Ω—ã
- [ ] Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è email
- [ ] DNS –∑–∞–ø–∏—Å–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ VPS
- [ ] Cloudflare –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –í—Å–µ –¥–æ–º–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç (ebuster.ru, api.ebuster.ru, lk.ebuster.ru, admin.ebuster.ru)

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose build --no-cache api
docker-compose up -d api

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec api sh

# –û—á–∏—Å—Ç–∫–∞
docker-compose down
docker system prune -a
```

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ https://ebuster.ru
