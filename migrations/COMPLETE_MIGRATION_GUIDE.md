# üéØ –ü–û–õ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –ú–ò–ì–†–ê–¶–ò–ò –ë–î

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. –¢–∞–±–ª–∏—Ü–∞ `users` (–±—ã–ª–æ `auth_users`)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –∏—Å–∫–∞–ª `auth_users`, –∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å `users`
**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏ –≤–µ–∑–¥–µ –≤ –∫–æ–¥–µ
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ –≤—Å–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è:
  - `otp`, `otp_expiry` - –¥–ª—è OTP –∫–æ–¥–æ–≤
  - `scripts` - —Å—á—ë—Ç—á–∏–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤
  - `is_banned`, `ban_reason`, `ban_expires_at` - –±–∞–Ω—ã
  - `subscription_type`, `subscription_expires_at`, `subscription_id` - –ø–æ–¥–ø–∏—Å–∫–∏
  - `role_id` - ID —Ä–æ–ª–∏

### 2. –¢–∞–±–ª–∏—Ü–∞ `user_scripts`
**–ü—Ä–æ–±–ª–µ–º–∞:** `Could not find the table 'public.user_scripts'`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

### 3. –¢–∞–±–ª–∏—Ü–∞ `script_categories`
**–ü—Ä–æ–±–ª–µ–º–∞:** `Could not find the table 'public.script_categories'`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (UI, Privacy, Productivity, General)

### 4. –¢–∞–±–ª–∏—Ü–∞ `roles`
**–ü—Ä–æ–±–ª–µ–º–∞:** `Could not find the table 'public.roles'`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ (user, premium, pro, admin)

### 5. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** 
- `Could not find the table 'public.referral_codes'`
- `Could not find the table 'public.referral_uses'`
- `Could not find the table 'public.referral_stats'`

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `referrals` + 3 VIEW –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 6. –¢–∞–±–ª–∏—Ü–∞ `support_tickets`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–¥ –∏—Å–∫–∞–ª `support_tickets`, –∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å `tickets`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –°–æ–∑–¥–∞–Ω VIEW `support_tickets` –∫–∞–∫ –∞–ª–∏–∞—Å –¥–ª—è `tickets`

### 7. –ü–æ–ª–µ `changelog` –≤ `scripts`
**–ü—Ä–æ–±–ª–µ–º–∞:** `Could not find the 'changelog' column of 'scripts'`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `changelog TEXT`

### 8. –°–≤—è–∑—å `subscriptions` ‚Üí `users`
**–ü—Ä–æ–±–ª–µ–º–∞:** `Could not find a relationship between 'subscriptions' and 'auth_users'`
**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω JOIN –Ω–∞ `users` –≤–º–µ—Å—Ç–æ `auth_users`

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (9 —à—Ç)
1. ‚úÖ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–≤—Å–µ –ø–æ–ª—è –≤–∫–ª—é—á–µ–Ω—ã)
2. ‚úÖ `scripts` - —Å–∫—Ä–∏–ø—Ç—ã (—Å changelog)
3. ‚úÖ `script_versions` - –≤–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
4. ‚úÖ `tickets` - —Ç–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
5. ‚úÖ `ticket_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∏–∫–µ—Ç–æ–≤
6. ‚úÖ `api_keys` - API –∫–ª—é—á–∏
7. ‚úÖ `subscriptions` - –ø–æ–¥–ø–∏—Å–∫–∏
8. ‚úÖ `login_history` - –∏—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
9. ‚úÖ `user_bans` - –±–∞–Ω—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (4 —à—Ç)
10. ‚úÖ `user_scripts` - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
11. ‚úÖ `script_categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (4 –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö)
12. ‚úÖ `roles` - —Ä–æ–ª–∏ (4 –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö)
13. ‚úÖ `referrals` - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–≤—Å—ë –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ)

### VIEW (4 —à—Ç)
14. ‚úÖ `support_tickets` ‚Üí –∞–ª–∏–∞—Å –¥–ª—è `tickets`
15. ‚úÖ `referral_codes` ‚Üí VIEW –∏–∑ `referrals` (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
16. ‚úÖ `referral_uses` ‚Üí VIEW –∏–∑ `referrals` (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
17. ‚úÖ `referral_stats` ‚Üí VIEW –∏–∑ `referrals` (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –ë—ç–∫–∞–ø (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```bash
# –ß–µ—Ä–µ–∑ Supabase Dashboard:
# Database ‚Üí Backups ‚Üí Create Backup
```

### –®–∞–≥ 2: –û—á–∏—Å—Ç–∫–∞ –ë–î
```sql
-- –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
DROP SCHEMA public CASCADE;
CREATE SCHEMA public;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO public;
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
```sql
-- –ó–∞–ø—É—Å—Ç–∏ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
\i CLEAN_DB_SETUP.sql
```

**–ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è:**
- ‚úÖ 13 —Ç–∞–±–ª–∏—Ü (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞!)
- ‚úÖ 4 VIEW (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- ‚úÖ –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã
- ‚úÖ –í—Å–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã, updated_at)
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ä–æ–ª–∏)

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RLS
```sql
-- –ó–∞–ø—É—Å—Ç–∏ —Ñ–∞–π–ª —Å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
\i SETUP_RLS_POLICIES.sql
```

**–ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è:**
- ‚úÖ RLS –≤–∫–ª—é—á—ë–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- ‚úÖ –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose restart ebuster-api
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –°–ª–µ–¥–∏ –∑–∞ –ª–æ–≥–∞–º–∏
docker-compose logs -f ebuster-api
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ `PGRST205` (—Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ `PGRST204` (–∫–æ–ª–æ–Ω–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ `PGRST200` (—Å–≤—è–∑—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

---

## üìù –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. `CLEAN_DB_SETUP.sql` (488 —Å—Ç—Ä–æ–∫)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö 16 —Ç–∞–±–ª–∏—Ü
- –°–æ–∑–¥–∞–Ω–∏–µ VIEW support_tickets
- –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã
- –í—Å–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
- –§—É–Ω–∫—Ü–∏–∏
- –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### 2. `SETUP_RLS_POLICIES.sql` (440+ —Å—Ç—Ä–æ–∫)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –í–∫–ª—é—á–µ–Ω–∏–µ RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- 16 –±–ª–æ–∫–æ–≤ –ø–æ–ª–∏—Ç–∏–∫ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Ç–∞–±–ª–∏—Ü—É)
- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã

### 3. `MIGRATION_SUMMARY.md`
–û–±—â–∞—è —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 4. `FINAL_CHECKLIST.md`
–î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –≤—Å–µ—Ö –ø–æ–ª–µ–π

### 5. `COMPLETE_MIGRATION_GUIDE.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (7 —à—Ç)
1. ‚úÖ `src/api/cron-jobs.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `user_bans`
2. ‚úÖ `src/api/tickets-new.controller.ts` - `auth_users` ‚Üí `users`
3. ‚úÖ `src/api/subscriptions.controller.ts` - `auth_users` ‚Üí `users` + JOIN
4. ‚úÖ `src/api/roles.controller.ts` - `auth_users` ‚Üí `users`
5. ‚úÖ `src/lib/supabase-api.ts` - `auth_users` ‚Üí `users` (–≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è)
6. ‚úÖ `src/api/referral.controller.ts` - `auth_users` ‚Üí `users` (–≤—Å–µ JOIN)
7. ‚úÖ `src/api/auth.middleware.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ª–æ–≥

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ë–î –±—É–¥—É—Ç:
- **4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:** UI, Privacy, Productivity, General
- **4 —Ä–æ–ª–∏:** user, premium, pro, admin

### 2. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç:
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–ª–∏ –æ–Ω–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### 3. VIEW support_tickets
–≠—Ç–æ –∞–ª–∏–∞—Å –¥–ª—è `tickets`, —á—Ç–æ–±—ã —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–ª –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### 4. TypeScript —Ç–∏–ø—ã
–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:
```bash
npx supabase gen types typescript --project-id YOUR_PROJECT_ID > src/lib/database.types.ts
```

### 5. node-cron —Ç–∏–ø—ã
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```bash
npm install --save-dev @types/node-cron
```

---

## ‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ OTP –∫–æ–¥–∞
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email
- ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã

### –ü—Ä–æ—Ñ–∏–ª—å
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤
- ‚úÖ API –∫–ª—é—á–∏

### –°–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ

### –¢–∏–∫–µ—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∏–∫–µ—Ç–æ–≤
- ‚úÖ –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–∏–∫–µ—Ç—ã
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∏–∫–µ—Ç–æ–≤

### –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- ‚úÖ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥

### –ê–¥–º–∏–Ω–∫–∞
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Cron Jobs
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –±–∞–Ω–æ–≤
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –û—à–∏–±–∫–∞ "table not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å
**–†–µ—à–µ–Ω–∏–µ:** 
```sql
-- –ü—Ä–æ–≤–µ—Ä—å —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;
```

### 2. –û—à–∏–±–∫–∞ "column not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–µ –Ω–µ —Å–æ–∑–¥–∞–ª–æ—Å—å
**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å –ø–æ–ª—è —Ç–∞–±–ª–∏—Ü—ã
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'users' 
ORDER BY ordinal_position;
```

### 3. –û—à–∏–±–∫–∞ "relationship not found"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π JOIN
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ `auth_users` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `users`

### 4. –û—à–∏–±–∫–∞ RLS
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–∏—Ç–∏–∫–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å RLS
SELECT tablename, rowsecurity 
FROM pg_tables 
WHERE schemaname = 'public';
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker-compose logs -f ebuster-api`
2. –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase Dashboard
3. –ü—Ä–æ–≤–µ—Ä—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
4. –û—Ç–∫–∞—Ç –∏–∑ –±—ç–∫–∞–ø–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:
- ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –í—Å–µ –ø–æ–ª—è –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ RLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

**–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üöÄ**
