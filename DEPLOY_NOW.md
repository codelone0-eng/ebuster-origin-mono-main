# ๐ ะกะะะงะะซะ ะะะะะะ: ะัะฟัะฐะฒะปะตะฝะธะต /verify-otp

## โ ะงัะพ ะธัะฟัะฐะฒะปะตะฝะพ:

ะะพัั `/verify-otp` ะดะพะฑะฐะฒะปะตะฝ ะฒ **`LandingApp.tsx`** (ะฟัะฐะฒะธะปัะฝัะน ัะฐะนะป ะดะปั ebuster.ru)

---

## ๐ ะะพะผะฐะฝะดั ะดะปั ะดะตะฟะปะพั:

### ะะฐ ัะตัะฒะตัะต ะฒัะฟะพะปะฝะธัะต:

```bash
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd /srv/ebuster

# 2. ะะฑะฝะพะฒะธัะต ะบะพะด ะธะท GitHub
git pull origin main

# 3. ะะตัะตัะพะฑะตัะธัะต frontend ะบะพะฝัะตะนะฝะตั
docker-compose build --no-cache frontend

# 4. ะะตัะตะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั
docker-compose up -d frontend

# 5. ะัะพะฒะตัััะต ะปะพะณะธ
docker-compose logs -f frontend
```

---

## โ ะะพัะปะต ะดะตะฟะปะพั ะฟัะพะฒะตัััะต:

1. **ะัะบัะพะนัะต:** https://ebuster.ru/verify-otp?email=test@example.com

2. **ะะพะปะถะฝะฐ ะพัะบัััััั ัััะฐะฝะธัะฐ ั ัะพัะผะพะน ะฒะฒะพะดะฐ OTP:**
   ```
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ         ๐ง ะะพะดัะฒะตัะถะดะตะฝะธะต Email      โ
   โ                                     โ
   โ  ะั ะพัะฟัะฐะฒะธะปะธ 6-ะทะฝะฐัะฝัะน ะบะพะด ะฝะฐ     โ
   โ  test@example.com                  โ
   โ                                     โ
   โ  โโโโโฌโโโโฌโโโโ โข โโโโโฌโโโโฌโโโโ    โ
   โ  โ   โ   โ   โ   โ   โ   โ   โ    โ
   โ  โโโโโดโโโโดโโโโ   โโโโโดโโโโดโโโโ    โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   ```

3. **ะะ ะดะพะปะถะฝะพ ะฑััั:**
   - โ ะกััะฐะฝะธัั 404
   - โ ะัััะพะน ัััะฐะฝะธัั
   - โ ะัะธะฑะพะบ ะฒ ะบะพะฝัะพะปะธ

---

## ๐ฏ ะะพะปะฝัะน ะฟัะพัะตัั ัะตะณะธัััะฐัะธะธ:

1. ะะพะปัะทะพะฒะฐัะตะปั ัะตะณะธัััะธััะตััั ะฝะฐ https://ebuster.ru
2. ะะพะปััะฐะตั email ั 6-ะทะฝะฐัะฝัะผ ะบะพะดะพะผ
3. ะะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะฝะฐะฟัะฐะฒะปัะตััั ะฝะฐ `/verify-otp?email=...`
4. ะะฒะพะดะธั ะบะพะด (ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะฟัะธ ะฒะฒะพะดะต 6 ัะธัั)
5. ะะฒัะพะผะฐัะธัะตัะบะธะน ะฒัะพะด ะฒ ัะธััะตะผั
6. ะะตัะตะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฒ `/dashboard` (โ https://lk.ebuster.ru/dashboard)

---

## ๐ ะะทะผะตะฝะตะฝะธั ะฒ ะบะพะดะต:

### 1. ะคะฐะนะป: `src/LandingApp.tsx`

```typescript
// ะะพะฑะฐะฒะปะตะฝ ะธะผะฟะพัั
import VerifyOtp from "./pages/VerifyOtp";

// ะะพะฑะฐะฒะปะตะฝ ัะพัั
<Route path="/verify-otp" element={<VerifyOtp />} />
```

### 2. ะคะฐะนะป: `src/pages/VerifyOtp.tsx`

```typescript
// ะฃะฑัะฐะฝ useAuth (ะฝะต ะฝัะถะตะฝ, ัะฐะบ ะบะฐะบ ัะพะบะตะฝ ัะพััะฐะฝัะตััั ะฝะฐะฟััะผัั)
// ะะตัะตะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฝะฐ ะฟัะฐะฒะธะปัะฝัะน ะฟะพะดะดะพะผะตะฝ
window.location.href = 'https://lk.ebuster.ru/dashboard';
```

---

## โ๏ธ ะะฐะถะฝะพ ะฟะพะฝะธะผะฐัั:

### ะกัััะบัััะฐ ะฟัะธะปะพะถะตะฝะธั:

```
src/
โโโ main.tsx           โ Entry point (ะฒัะฑะธัะฐะตั App ะฟะพ ะดะพะผะตะฝั)
โโโ LandingApp.tsx     โ ebuster.ru (ะะกะะะะฌะะฃะะขะกะฏ)
โโโ DashboardApp.tsx   โ lk.ebuster.ru
โโโ AdminApp.tsx       โ admin.ebuster.ru
โโโ App.tsx            โ ะะ ะะกะะะะฌะะฃะะขะกะฏ ะฝะฐ production!
```

### ะะพะณะธะบะฐ ะฒัะฑะพัะฐ App:

```typescript
// src/main.tsx
if (hostname === 'lk.ebuster.ru') {
  AppComponent = DashboardApp;
} else if (hostname === 'admin.ebuster.ru') {
  AppComponent = AdminApp;
} else {
  AppComponent = LandingApp;  // โ ebuster.ru ะธัะฟะพะปัะทัะตั ะญะขะ
}
```

**ะะพััะพะผั ะฒัะต ัะพััั ะดะปั ebuster.ru ะฝัะถะฝะพ ะดะพะฑะฐะฒะปััั ะฒ `LandingApp.tsx`!**

---

## ๐ง ะัะปะธ ััะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ:

### ะัะพะฒะตัััะต ะปะพะณะธ:

```bash
# ะะพะณะธ frontend
docker-compose logs -f frontend

# ะะพะณะธ API
docker-compose logs -f api

# ะัะพะฒะตัััะต ััะพ ะบะพะฝัะตะนะฝะตัั ะทะฐะฟััะตะฝั
docker-compose ps
```

### ะัะพะฒะตัััะต ััะพ ะบะพะด ะพะฑะฝะพะฒะธะปัั:

```bash
cd /srv/ebuster
git log --oneline -3

# ะะพะปะถะตะฝ ะฑััั ะบะพะผะผะธั ั LandingApp.tsx
```

### ะัะพะฒะตัััะต ัะฐะนะปั ะฒ ะบะพะฝัะตะนะฝะตัะต:

```bash
# ะะพะนะดะธัะต ะฒ ะบะพะฝัะตะนะฝะตั
docker-compose exec frontend sh

# ะัะพะฒะตัััะต ััะพ ัะฐะนะปั ะพะฑะฝะพะฒะธะปะธัั
ls -la /usr/share/nginx/html/landing/

# ะัะนะดะธัะต
exit
```

---

## โ ะงะตะบะปะธัั:

- [ ] ะะพะด ะทะฐะบะพะผะผะธัะตะฝ ะธ ะทะฐะฟััะตะฝ ะฒ GitHub
- [ ] ะะฐ ัะตัะฒะตัะต ะฒัะฟะพะปะฝะตะฝ `git pull`
- [ ] Frontend ะฟะตัะตัะพะฑัะฐะฝ: `docker-compose build --no-cache frontend`
- [ ] ะะพะฝัะตะนะฝะตั ะฟะตัะตะทะฐะฟััะตะฝ: `docker-compose up -d frontend`
- [ ] ะกััะฐะฝะธัะฐ `/verify-otp` ะพัะบััะฒะฐะตััั
- [ ] ะคะพัะผะฐ ะฒะฒะพะดะฐ OTP ะพัะพะฑัะฐะถะฐะตััั
- [ ] ะะตะณะธัััะฐัะธั โ OTP โ ะะฒัะพะฒัะพะด ัะฐะฑะพัะฐะตั

---

**ะะะะะะะขะ ะกะะะงะะก!** ๐
